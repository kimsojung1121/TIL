## 크론 표현식(Cron Expressions)

연계 확인 사이트? 확인하는데 이상한 표현식 같은 게 있길래 크론이라는 걸 처음 알았다.
<br>정규표현식이랑 비슷한 건가? 정리해 보자!

### 크론(cron)
- 소프트웨어 유틸리티
- 유닉스 계열 컴퓨터 운영체제의 시간 기반 **잡 스케줄러**
- 작업을 고정된 시간, 날짜, 간격에 주기적으로 실행할 수 있도록 스케줄링하기 위해 사용한다.
> 출처 : [위키백과](https://ko.wikipedia.org/wiki/Cron)

그렇군. 일정 시간 간격을 두고 실행되는 게 포인트이다. (스케줄링)
<br>또한 캘린더 앱의 일정 기간 반복도 이걸 사용하는 것 같다.

### 스케줄러(Scheduler)
- 실무에서는 배치, 크론, 스케줄러, 예약작업, 잡 등으로 불린다.
- 스케줄러, 잡 스케줄러, 예약작업
  - 특정 시간/주기에 어떤 일을 하는 흔히 예약(반복/비반복) 하는 작업(job)들을 실행시키는 주체.
- 크론(Cron)
  - 본래 의미는 위에서 설명한 대로 유닉스계열의 잡스케줄러 시스템이다.
  - 현재는 잡 스케줄러와 동일한 의미로 쓰인다.
- 배치(Batch)
  - 일괄처리로 대량의 작업을 하는 것.
  - 대부분의 배치가 스케줄링으로 이루어지기 때문에 회사에 따라선 스케줄링 = 배치로 불리기도 한다.
  - 무조건 스케줄링의 의미는 아닌, 일괄처리 또한 배치이다.(쉘스크립트나 sql 프로시저 등...)
- 잡(Job)
  - 흔히 스케줄링에서 배치라고 부르면 잡이다.
  - 정확한 의미로는 **스케줄링이 될 배치**(스케줄링이 예정된 배치)
- 크론 표현식(Cron Expression)
  - 스케줄러계열의 표현식
  - 정규표현식과 마찬가지로 구현체에 따라 조금씩 문법이 다르다.
    - 리눅스/유닉스 크론 표현식
    - 스프링 스케줄러/쿼츠 크론 표현식
> 참고 : [Tip - 크론과 크론 표현식](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=ratoa&logNo=221465503510)


### 크론 표현식
- 구성
![img](https://madplay.github.io/img/post/2018-08-26-a-guide-to-cron-expression-1.jpg){: width="50%" height="50%"}

- 필드
  - 초(Seconds)
    - 값 범위 : 0 ~ 59
    - 허용 특수문자 : `* , - /`
    - 리눅스/유닉스 크론탭에서는 사용되지 않는다.
  - 분(Minutes)
    - 값 범위 : 0 ~ 59
    - 허용 특수문자 : `* , - /`
  - 시(Hours)
    - 값 범위 : 0 ~ 23
    - 허용 특수문자 : `* , - /`
  - 일(Day of month)
    - 값 범위 : **1 ~ 31**
    - 허용 특수문자 : `* , - ? L W`
  - 월(Month)
    - 값 범위 : **1 ~ 12** 또는 JAN ~ DEC
    - 허용 특수문자 : `* , - /`
  - 주(Day of week)
    - 값 범위 : 0 ~ 6 또는 SUN ~ SAT
    - 허용 특수문자 : `* , - ? L #`
  - 년(Year)
    - 값 범위 : 생략 또는 1970 ~ 2099
    - 허용 특수문자 : `* , - /`
    - 리눅스/유닉스 크론탭에서는 사용되지 않는다.
  
- 특수문자
  - `*` : 모든값(매시, 매일, 매주 등)
  - `?` : 특정 값이 아닌 어떤 값이든 상관없음
  - `-` : 범위를 지정할 때 
  - `,` : 여러 값을 지정할 때
  - `/` : 증분값, 즉 초기값과 증가치 설정
  - `L` : 지정할 수 있는 범위의 마지막 값 표시
  - `W` : 가장 가까운 평일
  - `#` : N번째 특정 요일

- 예제
  - 매 10분마다
```
0 0/10 * * * *
```
  - 매 3시간마다
```
0 0 0/3 * * *
```
  - 2018년도 매일 14시 30분마다
```
0 30 14 * * * 2018
```
  - 매일 10시 ~ 19시 사이에 10분 간격으로
```
0 0/10 10-19 * * *
```
  - 매일 10시와 19시에만 10분 간격으로
```
0 0/10 10,19 * * *
```  
  - 매달 25일 01시 30분에
```
0 30 1 25 * *
```  
  - 매주 월, 금요일 10시와 19시 사이 10분마다
```
0 10 10-19 ? * MON,FRI
```  
  - 매달 마지막날 15시 30분
```
0 30 15 L * *
```  
  - 2017~2018년 매월의 마지막 토요일 오후 1시 20분
```
0 20 13 ? * 6L 2017-2018
```

> 출처 : [크론 표현식(Cron Expressions)](https://madplay.github.io/post/a-guide-to-cron-expression)
